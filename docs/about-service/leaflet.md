# Leaflet について

## サービス概要

従来の北大部活サークル Navi の機能と同様、北海道大学の部活・サークルについての情報を決められたフォーマットで掲載。北大生が網羅的に情報を閲覧できることが狙い。

## Leaflet を支える技術

microCMS で管理しているコンテンツを API で取得し、Next.js SSG という技術で静的ページを生成。Cloudfrare Pages の CDN でキャッシングして高速に配信します。

## 掲載情報の内容

| 項目             | 採用理由                                 |
| ---------------- | ---------------------------------------- |
| 団体名           | ー                                       |
| 最終更新日       | 情報の信頼度の指標                       |
| 団体紹介         | 活動を理解するための情報                 |
| 学部公認情報     | 団体の信頼度の指標                       |
| 団体人数         | 団体の選好に関わる情報                   |
| 設立年           | 団体の信頼度の指標                       |
| 活動拠点         | 参加可否の判断材料                       |
| 活動頻度         | 団体の選好に関わる情報                   |
| 入部資格         | 参加可否の判断材料                       |
| 年間費用         | 参加可否の判断材料                       |
| Web サイト URL   | 詳細を追うための手がかり                 |
| メールアドレス   | 連絡用                                   |
| 各種 SNS         | 連絡用・詳細を追うための手がかり         |
| 年間スケジュール | 活動を理解するための情報                 |
| スケジュール補足 | スケジュールには専門用語が入りがちなため |

参考：[団体情報に関するフロントエンドの型](https://github.com/Tanden-Garage/Hoku-Navi-Beta/blob/c4b903db32d383aa6217f0e83826957df03a3189/src/types/Club.ts)

## 掲載情報の集め方

TODO: 掲載団体との折衝などについては現行のドキュメントから移植

## 掲載情報の更新の仕方

管理画面アプリケーションからボトムアップで情報を更新します。

- 団体ごとに編集ページを配布
- 編集ページから microCMS に直接 PATCH リクエスト
- リクエスト時に Slack Webhook で Navi Slack へ内容を通知
- 内容確認後に手動ビルド（連続して様々な団体が編集したときにまとめてビルドしたいため）

なお、PATCH リクエスト成功直後に再度編集ページをひらくと、先程編集した内容が入っていることになります。ただしその内容が Leaflet 上で配信されているかどうかはわかりません（手動ビルドするまで配信されません）。
